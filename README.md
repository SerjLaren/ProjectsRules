# ProjectsRules

Правила архитектуры, стиля кода, и прочие. 
На данный момент правила написаны для одномодульного (app) Android проекта.
Правила не обязательны к исполнению, т.к. каждый проект имеет свои особенности, но желательны к прочтению.

## Архитектура проекта

**(для примера назовем наше приложение Klik)**

### Расположение элементов

В корне модуля: 
- файлы: MainApplication, MainActivity, MainActivityViewModel (опционально).
- пакеты: di (опционально), common (опционально), features.

Класс MainApplication: 
- в идеале должен быть пустым.
- максимум что может быть в нем: в onCreate инициализация di, логгеров, аналитик, и прочего схожего.

Класс MainActivity:
- должен стремиться быть пустым.
- может содержать:
-- onCreate для установки флагов, инициализации viewModel, инициализации ui;
-- onCreate и onNewIntent для получения интентов, доставания данных из интента и делегирования данных в MainActivityViewModel;
-- onStart, onStop для обработки логики на эти события жизненного цикла; 
-- слушателя на смену текущего отображаемого destination в навигации;
-- логику своих элементов ui;
-- важные вещи для вашего проекта, которые не получилось расположить в MainActivityViewModel.

Класс MainActivityViewModel:
- должен содержать логику иннициализации приложения.
- должен обрабатывать пришедшие данные из интентов.
- должен принимать навигационные решения при инициализации приложения.
- по завершении инициализации приложения должен запускать пост-действия (если они есть).

Пакет di:
- содержит логику инициализации di в проекте.

Пакет common:
- содержит константы приложения, базовые классы для классов приложения, вспомагательные классы и функции, extensions, regex-s, validators, прочее. Все это также организовано по пакетам.

Пакет features:
- содержит пакеты. Каждый пакет - выделенная фича проекта. Фича может объединять в себя целый набор экранов (пример - Настройки, Авторизация). Фича может быть частью экрана (пример - Прогресс заполнения анкеты по шагам, Плашка корзины).

Пакеты фич внутри пакета feature:
- делятся на слои: data, domain, ui.